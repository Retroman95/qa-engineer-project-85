 ---
- summary: |
    Проверка пробной игры без регистрации 
  requirement: |
    Пользователь имеет возможность пробной игры, без регистрации
  prerequisites:
    Открыта главная страница сайта codebattle без регистрации и входа в систему
  test-data: |
    https://codebattle.hexlet.io/
  steps:
    - Нажимаем "Try simple batle"
  expected-result: |
    Открывается пробная игра с ботом, пользователь имеет возможность вводить решение

- summary: |
    Успешная регистрация пользователя с корректными данными
  requirement: |
    При введении валидных данных пользователь должен попасть на главную страницу 
  prerequisites: |
    Открыта страница регистрации 
  test-data: |
    Вводим новый логин и почту
  steps:
    - Вводим логин 
    - Вводим почту 
    - Вводим пароль 
    - Вводим пароль повторно 
    - Нажимаем кнопку "Submit"
  expected-result: |
    Открывается главная страница сайта, пользователь успешно зарегистрирован

- summary: |
    Проверка регистрации пользователя с корректным email
  requirement: |
    При вводе невалидного email всплывает уведомление об ошибке
  prerequisites:
    Открыта страница регистрации
  test-data: |
    https://codebattle.hexlet.io/
  steps:
    - Вводим логин Andrey95
    - Вводим почту tester_hexlet
    - Вводим пароль Qwerty1
    - Вводим пароль повторно Qwerty1
    - Нажимаем кнопку "Submit"
  expected-result: |
    Пользователь получает сообщение об ошибке

- summary: |
    Проверка успешной авторизации пользователя с существующими логином и паролем
  requirement: |
    При вводе валидных данных пользователь входит в систему
  prerequisites:
    Ранее зарегестрировали пользователя под логином Andrey95, открыта страница авторизации
  test-data: |
    https://codebattle.hexlet.io/
  steps:
    - Вводим почту tester_hexlet@mail.ru
    - Вводим пароль Qwerty1
    - Нажимаем кнопку "Submit"
  expected-result: |
    Пользователь успешно входит в систему

- summary: |
    Проверка авторизации пользователя с некорректным паролем
  requirement: |
    При вводе некорректного пароля пользователь получает сообщение об ошибке
  prerequisites:
    Открыта страница авторизации
  test-data: |
    email = tester_hexlet@mail.ru пароль = Qwerty2 (с ошибкой)
  steps:
    - Вводим email
    - Вводим пароль 
    - Нажимаем кнопку "Submit"
  expected-result: |
    Пользователь получает сообщение об ошибке

- summary: |
    Проверка авторизации ранее незарегистированого пользователя 
  requirement: |
    При введении несуществующих данных пользователь должен получить сообщение об ошибке
  prerequisites:
    Открыта страница авторизации
  test-data: |
    Email = texter_hexlet@mail.ru@gmail.com Пароль = Qwerty2
  steps:
    - Вводим логин
    - Вводим пароль
    - Нажимаем кнопку "Submit"
  expected-result: |
    Пользователь получает сообщение об ошибке 

- summary: |
    Проверка успешного прикрепления к аккаунту Github
  requirement: |
    Пользователь должен иметь возможность прикрепить к аккаунту Github
  prerequisites:
    Выполнена авторизация пользователя Retroman95
  test-data: |
    https://codebattle.hexlet.io/
  steps:
    - на главной странице нажимаем на иконку своего никнейма
    - нажимаем "Setting" в выпадающем списке
    - нажимаем "Link GitHub"
    - в сплывающем окне вводим логин/пароль от аккаунта Github
    - нажимаем "Sign in"
  expected-result: |
    Получаем уведомление "Succsesfully updated authentication settings"

- summary: |
    Проверка успешного прикрепления к аккаунту Discord
  requirement: |
    Пользователь должен иметь возможность прикрепить к аккаунту Discord
  prerequisites:
    Выполнена авторизация пользователя retroman95
  test-data: |
    https://codebattle.hexlet.io/
  steps:
    - на главной странице нажимаем на иконку своего никнейма
    - нажимаем "Setting" в выпадающем списке
    - нажимаем "Link Discord"
    - в сплывающем окне вводим логин/пароль 
    - нажимаем "Sign in"
  expected-result: |
    Получаем уведомление "Succsesfully updated authentication settings"

- summary: |
    Неуспешное создание нескольких турниров с одинаковым названием  
  requirement: |
    Все активные/предстоящие турниры должны иметь разное название 
  prerequisites:
    Открыта главная страница https://codebattle.hexlet.io/
    Пользователь авторизован
  test-data: |
    Name tournament 1 = test; Type = individual; Access_type = token; Level = elementary;
    Default language = js; Match timeout = 177;
    Name tournament 2 = test;
  steps:
    - Нажать на гиперссылку 'Tournaments info'
    - Заполнить форму 'Create a new tournament' в соответствии с тестовыми данными
    - Нажать 'Create'
    - Перейти во влкадку tournaments https://codebattle.hexlet.io/tournaments
    - Нажать на гиперссылку 'Tournaments info'
    - Заполнить форму 'Create a new tournament' в соответствии с тестовыми данными
  expected-result: |
    Второй турнир не создан, отображается сообщение с информацией 'турнир с текущем названием уже активен'

- summary: |
    Одновременное участие в нескольких играх
  requirement: |
    Пользователь может принимать участие одновременно только в одной игре
  prerequisites:
    Перейти на страницу веб-приложения "CodeBattle" по ссылке (https://codebattle.hexlet.io/).
    Авторизоваться в приложении "CodeBattle"
  test-data: |
    https://codebattle.hexlet.io/
  steps:
    - Создаём игру или присоединяемся к существующей
    - Открываем главное меню сайта
    - Выбираем существующую игру из меню Lobby (нажимем на кнопку "fight")
  expected-result: |
    Отображена ошибка "already_in_a_game", игра не была создана.

- summary: |
    Одновременное участие в обычной игре и игре турнира
  requirement: |
    Пользователь может принимать участие одновременно только в одной игре
  prerequisites:
    Перейти на страницу веб-приложения "CodeBattle" по ссылке (https://codebattle.hexlet.io/).
    Авторизоваться в приложении "CodeBattle"
    Создать турнир
  test-data: |
    https://codebattle.hexlet.io/
  steps:
    - Нажимаем на кнопку "Create a game"
    - Выбираем "level"
    - Выбираем "game type"
    - Вводим "Nickname" противника
    - Нажимаем на "Nickname" противника
    - Выбираем "time control"
    - Нажимаем кнопку "Create invite"
    - Ждем согласия противника
    - Нажимаем на аватар
    - Нажимаем на кнопку "Tournaments"
    - Нажимаем кнопку "Show" у ранее созданного туринра
    - Нажимаем кнопку "Join"
    - Запускаем турнир
    - Нажимаем кнопку "Join"
  expected-result: |
    Отображена ошибка "already_in_a_game", игра не была создана  

- summary: |
    Неуспешное создание турнира c прошедшей датой 
  requirement: |
    Сайт не должен дать возможность сгенерировать турнир с прошедшей датой и временем
  prerequisites: |
    Пользователь авторизован.
    Открыт сайт на вкладке tournaments https://codebattle.hexlet.io/#tournaments
  test-data: |
    https://codebattle.hexlet.io/
    Name = My Fancy Tournament; Type = individual; Access_type = token; Level = elementary;
    Default language = js; Match timeout = 177;
  steps:
    - Нажать на гиперссылку 'Tournaments info'
    - Заполнить форму 'Create a new tournament' в соответствии с тестовыми данными
    - Указать прошедшую дату и время турнира
    - Нажать 'Create'
  expected-result: |
    Турнир не сгенерирован / нет возможности указать прошедшую дату и время турнира при создании

- summary: |
    Проверка на мультиязычность задач
  requirement: |
    При переключении языка в окне баттла переводится задание
  prerequisites: |
    Открыта страница игры
  test-data: |
    Empty
  steps:
    - Поменять язык с русского на английский
    - Проверить корректность результата
    - Поменять язык с английского на русский
    - Проверить корректность результата
  expected-result: |
    При переключении языка переводится задание, верстка сохраняется
